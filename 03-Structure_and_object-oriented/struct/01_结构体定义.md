# 结构体的特点
- Go 语言中数组可以存储同一类型的数据，但在结构体中我们可以为不同项定义不同的数据类型。
- 结构体的目的就是把数据聚集在一起，以便能够更加便捷地操作这些数据


# 结构体和类的概念
- go里面没有类， go 用一种特殊的方式，把结构体本身看作一个类。
- 一个成熟的类，具备成员变量和成员函数，结构体本身就有成员变量，再给他绑定上成员函数，是不是就可以了！

## 结构体单例绑定
- sayHello() 用了指针的方式进行绑定。相当于给结构体绑定了函数，这个结构体等价于对象
- 唯一的不同点就是如果使用 * 绑定函数，那么这种对象就是单例的，引用的是同一个结构体




## 01 结构体定义
### 定义方法
- 在 Golang 中最常用的方法是使用关键字 type 和 struct 来定义一个结构体，例如

  ```go
  type Person struct {
     Name   string
     Age    int
     Labels map[string]string
  }
  ```
### 字段说明
- 结构体中的字段可以是任何类型，甚至是结构体本身，也可以是函数或者接口

#### 使用结构体类型
- 使用结构体，举例：配置文件不同段，global 段、mysql段、redis段。

- 使用全局的配置变量可以拿到下属的所有段信息。

#### 字段标记信息
- 在定义结构体时还可以为字段指定一个标记信息，这些标记信息通过反射接口可见，并参与结构体的类型标识。
- 常用来做yaml解析、json解析、xorm/gorm连接mysql字段标记，举例如 公有云ecs结构体

## 02 结构体声明和初始化
### 方法一：使用var 声明变量并初始化

- 关键字var可以使用结构类型声明变量，并初始化为零值，举例

- 关键字 var 创建了类型为 Person 且名为 p 的变量，p被称作类型 Person 的一个实例(instance)。


#### var 不加等号 ：初始化零值
- 当声明变量时，这个变量对应的值总是会被初始化。
- 使用var关键字用零值初始化，对数值类型来说，零值是 0；对字符串来说，零值是空字符串；对布尔类型，零值是 false。
- var + NewXXX 初始化全局变量

#### var 等号 ：使用自定义数据初始化

#### var特点：可以在函数外部使用，可以声明初始化全局变量
- 举例使用 var=XXXX 初始化全局缓存

### 方法二：使用短变量声明操作符(:=) 初始化
#### 特点1：使用自定义值初始化
- 写法1：明确写出字段的名字以及对应的值，可以不用关心定义时的字段顺序




- 写法2： 不写字段名称，只写值，这时字段的顺序必须和定义时一致

#### 特点2：不可以在函数外部使用，不可以声明初始化全局变量




## 03 new和 make
### new 只能把内存初始化为零值并返回其指针
- 举例来对比下 new 和 var返回的类型


### new和make对比


- 简单说 new只分配内存，make用于slice，map，和channel的初始化。
- 对比表格

|  函数名   | 适用范围 | 返回值  | 填充值 |
|  ----  | ----  | ---- | ---- |
| new	| new可以对所有类型进行内存分配 |	 new 返回指针 |  new 填充零值 |
| make	| make 只能创建类型(slice map channel) |	 make 返回引用 |   make 填充非零值 |


### new在结构体struct上的不同
- new返回的是指针、struct返回的是值

